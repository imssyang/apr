❯ make test 2>../make_test.log 1>&2
cd test && make all check
make[1]: Entering directory '/opt/apr/archive/source/apr-1.7.0/test'
make[2]: Entering directory '/opt/apr/archive/source/apr-1.7.0/test'
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o globalmutexchild.lo -c globalmutexchild.c && touch globalmutexchild.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=link gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include   -no-install    -o globalmutexchild globalmutexchild.lo ../libapr-1.la   -lrt -lcrypt  -lpthread -ldl
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -prefer-pic -o mod_test.lo \
  -c ./mod_test.c
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=link gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -rpath `pwd` \
  -avoid-version     -o libmod_test.la \
  mod_test.lo ../libapr-1.la   -lrt -lcrypt  -lpthread -ldl
ar: `u' modifier ignored since `D' is the default (see `U')
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=link gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -rpath `pwd` -module \
  -avoid-version     -o mod_test.la \
  mod_test.lo ../libapr-1.la
ar: `u' modifier ignored since `D' is the default (see `U')
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o occhild.lo -c occhild.c && touch occhild.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=link gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include   -no-install    -o occhild occhild.lo ../libapr-1.la   -lrt -lcrypt  -lpthread -ldl
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o proc_child.lo -c proc_child.c && touch proc_child.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=link gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include   -no-install    -o proc_child proc_child.lo ../libapr-1.la   -lrt -lcrypt  -lpthread -ldl
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o readchild.lo -c readchild.c && touch readchild.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=link gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include   -no-install    -o readchild readchild.lo ../libapr-1.la   -lrt -lcrypt  -lpthread -ldl
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o sockchild.lo -c sockchild.c && touch sockchild.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=link gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include   -no-install    -o sockchild sockchild.lo ../libapr-1.la   -lrt -lcrypt  -lpthread -ldl
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testshmproducer.lo -c testshmproducer.c && touch testshmproducer.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=link gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include   -no-install    -o testshmproducer testshmproducer.lo ../libapr-1.la   -lrt -lcrypt  -lpthread -ldl
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testshmconsumer.lo -c testshmconsumer.c && touch testshmconsumer.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=link gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include   -no-install    -o testshmconsumer testshmconsumer.lo ../libapr-1.la   -lrt -lcrypt  -lpthread -ldl
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o tryread.lo -c tryread.c && touch tryread.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=link gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include   -no-install    -o tryread tryread.lo ../libapr-1.la   -lrt -lcrypt  -lpthread -ldl
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testlockperf.lo -c testlockperf.c && touch testlockperf.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=link gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include   -no-install    -o testlockperf testlockperf.lo ../libapr-1.la   -lrt -lcrypt  -lpthread -ldl
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testmutexscope.lo -c testmutexscope.c && touch testmutexscope.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=link gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include   -no-install    -o testmutexscope testmutexscope.lo ../libapr-1.la   -lrt -lcrypt  -lpthread -ldl
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o abts.lo -c abts.c && touch abts.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testutil.lo -c testutil.c && touch testutil.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testtime.lo -c testtime.c && touch testtime.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o teststr.lo -c teststr.c && touch teststr.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testvsn.lo -c testvsn.c && touch testvsn.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testipsub.lo -c testipsub.c && touch testipsub.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testshm.lo -c testshm.c && touch testshm.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testmmap.lo -c testmmap.c && touch testmmap.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testud.lo -c testud.c && touch testud.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testtable.lo -c testtable.c && touch testtable.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testsleep.lo -c testsleep.c && touch testsleep.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testpools.lo -c testpools.c && touch testpools.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testfmt.lo -c testfmt.c && touch testfmt.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testfile.lo -c testfile.c && touch testfile.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testdir.lo -c testdir.c && touch testdir.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testfileinfo.lo -c testfileinfo.c && touch testfileinfo.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testrand.lo -c testrand.c && touch testrand.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testdso.lo -c testdso.c && touch testdso.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testoc.lo -c testoc.c && touch testoc.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testdup.lo -c testdup.c && touch testdup.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testsockets.lo -c testsockets.c && touch testsockets.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testproc.lo -c testproc.c && touch testproc.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testpoll.lo -c testpoll.c && touch testpoll.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testlock.lo -c testlock.c && touch testlock.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testsockopt.lo -c testsockopt.c && touch testsockopt.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testpipe.lo -c testpipe.c && touch testpipe.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testthread.lo -c testthread.c && touch testthread.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testhash.lo -c testhash.c && touch testhash.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testargs.lo -c testargs.c && touch testargs.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testnames.lo -c testnames.c && touch testnames.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testuser.lo -c testuser.c && touch testuser.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testpath.lo -c testpath.c && touch testpath.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testenv.lo -c testenv.c && touch testenv.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testprocmutex.lo -c testprocmutex.c && touch testprocmutex.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testfnmatch.lo -c testfnmatch.c && touch testfnmatch.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testatomic.lo -c testatomic.c && touch testatomic.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testflock.lo -c testflock.c && touch testflock.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testsock.lo -c testsock.c && touch testsock.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testglobalmutex.lo -c testglobalmutex.c && touch testglobalmutex.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o teststrnatcmp.lo -c teststrnatcmp.c && touch teststrnatcmp.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testfilecopy.lo -c testfilecopy.c && touch testfilecopy.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testtemp.lo -c testtemp.c && touch testtemp.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testlfs.lo -c testlfs.c && touch testlfs.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testcond.lo -c testcond.c && touch testcond.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testescape.lo -c testescape.c && touch testescape.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testskiplist.lo -c testskiplist.c && touch testskiplist.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o testencode.lo -c testencode.c && touch testencode.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=link gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include   -no-install    -o testall abts.lo testutil.lo testtime.lo teststr.lo testvsn.lo testipsub.lo testshm.lo testmmap.lo testud.lo testtable.lo testsleep.lo testpools.lo testfmt.lo testfile.lo testdir.lo testfileinfo.lo testrand.lo testdso.lo testoc.lo testdup.lo testsockets.lo testproc.lo testpoll.lo testlock.lo testsockopt.lo testpipe.lo testthread.lo testhash.lo testargs.lo testnames.lo testuser.lo testpath.lo testenv.lo testprocmutex.lo testfnmatch.lo testatomic.lo testflock.lo testsock.lo testglobalmutex.lo teststrnatcmp.lo testfilecopy.lo testtemp.lo testlfs.lo testcond.lo testescape.lo testskiplist.lo testencode.lo ../libapr-1.la   -lrt -lcrypt  -lpthread -ldl
if test ! -d "./data"; then cp -r ./data data; fi
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o sendfile.lo -c sendfile.c && touch sendfile.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=link gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include   -no-install    -o sendfile sendfile.lo ../libapr-1.la   -lrt -lcrypt  -lpthread -ldl
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o echod.lo -c echod.c && touch echod.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=link gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include   -no-install    -o echod echod.lo ../libapr-1.la   -lrt -lcrypt  -lpthread -ldl
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include  -o sockperf.lo -c sockperf.c && touch sockperf.lo
/bin/bash /opt/apr/archive/source/apr-1.7.0/libtool --silent --mode=link gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE   -I../include -I./../include   -no-install    -o sockperf sockperf.lo ../libapr-1.la   -lrt -lcrypt  -lpthread -ldl
make[2]: Leaving directory '/opt/apr/archive/source/apr-1.7.0/test'
teststatus=0; \
progfailed=""; \
for prog in testlockperf testmutexscope testall sendfile ; do \
	if test "$prog" = 'sendfile'; then \
		for mode in blocking nonblocking timeout; do \
			./$prog client $mode startserver 127.0.0.1; \
			status=$?; \
			if test $status != 0; then \
				teststatus=$status; \
				progfailed="$progfailed '$prog mode $mode'"; \
			fi; \
		done; \
        else \
		./$prog -v; \
		status=$?; \
		if test $status != 0; then \
			teststatus=$status; \
			progfailed="$progfailed $prog"; \
		fi; \
	fi; \
done; \
if test $teststatus != 0; then \
	echo "Programs failed:$progfailed"; \
fi; \
exit $teststatus
APR Lock Performance Test
==============

apr_thread_mutex_t Tests
    Initializing the apr_thread_mutex_t (UNNESTED)          OK
    Starting 1 threads    OK
microseconds: 14332 usec
apr_thread_mutex_t Tests
    Initializing the apr_thread_mutex_t (NESTED)            OK
    Starting 1 threads    OK
microseconds: 14522 usec
apr_thread_mutex_t Tests
    Initializing the apr_thread_mutex_t (TIMED)             OK
    Starting 1 threads    OK
microseconds: 34476 usec
apr_thread_rwlock_t Tests
    Initializing the apr_thread_rwlock_t                    OK
    Starting 1 threads    OK
microseconds: 20615 usec
apr_thread_mutex_t Tests
    Initializing the apr_thread_mutex_t (UNNESTED)          OK
    Starting 2 threads    OK
microseconds: 214534 usec
apr_thread_mutex_t Tests
    Initializing the apr_thread_mutex_t (NESTED)            OK
    Starting 2 threads    OK
microseconds: 216929 usec
apr_thread_mutex_t Tests
    Initializing the apr_thread_mutex_t (TIMED)             OK
    Starting 2 threads    OK
microseconds: 195207 usec
apr_thread_rwlock_t Tests
    Initializing the apr_thread_rwlock_t                    OK
    Starting 2 threads    OK
microseconds: 226960 usec
apr_thread_mutex_t Tests
    Initializing the apr_thread_mutex_t (UNNESTED)          OK
    Starting 3 threads    OK
microseconds: 162564 usec
apr_thread_mutex_t Tests
    Initializing the apr_thread_mutex_t (NESTED)            OK
    Starting 3 threads    OK
microseconds: 175094 usec
apr_thread_mutex_t Tests
    Initializing the apr_thread_mutex_t (TIMED)             OK
    Starting 3 threads    OK
microseconds: 268560 usec
apr_thread_rwlock_t Tests
    Initializing the apr_thread_rwlock_t                    OK
    Starting 3 threads    OK
microseconds: 343036 usec
apr_thread_mutex_t Tests
    Initializing the apr_thread_mutex_t (UNNESTED)          OK
    Starting 4 threads    OK
microseconds: 195753 usec
apr_thread_mutex_t Tests
    Initializing the apr_thread_mutex_t (NESTED)            OK
    Starting 4 threads    OK
microseconds: 174131 usec
apr_thread_mutex_t Tests
    Initializing the apr_thread_mutex_t (TIMED)             OK
    Starting 4 threads    OK
microseconds: 354432 usec
apr_thread_rwlock_t Tests
    Initializing the apr_thread_rwlock_t                    OK
    Starting 4 threads    OK
microseconds: 537976 usec
apr_thread_mutex_t Tests
    Initializing the apr_thread_mutex_t (UNNESTED)          OK
    Starting 5 threads    OK
microseconds: 225307 usec
apr_thread_mutex_t Tests
    Initializing the apr_thread_mutex_t (NESTED)            OK
    Starting 5 threads    OK
microseconds: 181898 usec
apr_thread_mutex_t Tests
    Initializing the apr_thread_mutex_t (TIMED)             OK
    Starting 5 threads    OK
microseconds: 381375 usec
apr_thread_rwlock_t Tests
    Initializing the apr_thread_rwlock_t                    OK
    Starting 5 threads    OK
microseconds: 1392027 usec
apr_thread_mutex_t Tests
    Initializing the apr_thread_mutex_t (UNNESTED)          OK
    Starting 6 threads    OK
microseconds: 195050 usec
apr_thread_mutex_t Tests
    Initializing the apr_thread_mutex_t (NESTED)            OK
    Starting 6 threads    OK
microseconds: 202000 usec
apr_thread_mutex_t Tests
    Initializing the apr_thread_mutex_t (TIMED)             OK
    Starting 6 threads    OK
microseconds: 404622 usec
apr_thread_rwlock_t Tests
    Initializing the apr_thread_rwlock_t                    OK
    Starting 6 threads    OK
microseconds: 909168 usec
Trying proc mutexes with mechanism `default'...
  mutex mechanism `default' is global in scope on this platform.
Trying global mutexes with mechanism `default'...
  no problem encountered...
Trying proc mutexes with mechanism `flock'...
  mutex mechanism `flock' is *NOT* global in scope on this platform.
Trying global mutexes with mechanism `flock'...
  no problem encountered...
Trying proc mutexes with mechanism `sysvsem'...
  mutex mechanism `sysvsem' is global in scope on this platform.
Trying global mutexes with mechanism `sysvsem'...
  no problem encountered...
Trying proc mutexes with mechanism `posix'...
  mutex mechanism `posix' is global in scope on this platform.
Trying global mutexes with mechanism `posix'...
  no problem encountered...
Trying proc mutexes with mechanism `fcntl'...
  mutex mechanism `fcntl' is *NOT* global in scope on this platform.
Trying global mutexes with mechanism `fcntl'...
  no problem encountered...
Trying proc mutexes with mechanism `proc_pthread'...
  mutex mechanism `proc_pthread' is global in scope on this platform.
Trying global mutexes with mechanism `proc_pthread'...
  no problem encountered...
Trying proc mutexes with mechanism `default_timed'...
  mutex mechanism `default_timed' is global in scope on this platform.
Trying global mutexes with mechanism `default_timed'...
  no problem encountered...
testatomic          :  SUCCESS
testdir             :  SUCCESS
testdso             :  SUCCESS
testdup             :  SUCCESS
testencode          :  SUCCESS
testenv             :  SUCCESS
testescape          :  SUCCESS
testfile            :  SUCCESS
testfilecopy        :  SUCCESS
testfileinfo        :  SUCCESS
testflock           :  SUCCESS
testfmt             :  SUCCESS
testfnmatch         :  SUCCESS
testargs            :  SUCCESS
testhash            :  SUCCESS
testipsub           :  SUCCESS
testlock            :  SUCCESS
testcond            :  SUCCESS
testlfs             :  Line 349: LFS support a no-op in 64-bit builds
SUCCESS
testmmap            :  SUCCESS
testnames           :  SUCCESS
testoc              :  SUCCESS
testpath            :  SUCCESS
testpipe            :  SUCCESS
testpoll            :  SUCCESS
testpools           :  SUCCESS
testproc            :  SUCCESS
testprocmutex       :  SUCCESS
testrand            :  SUCCESS
testsleep           :  SUCCESS
testshm             :  SUCCESS
testsock            :  SUCCESS
testsockets         :  SUCCESS
testsockopt         :  SUCCESS
teststr             :  SUCCESS
teststrnatcmp       :  SUCCESS
testtable           :  SUCCESS
testtemp            :  SUCCESS
testthread          :  SUCCESS
testtime            :  SUCCESS
testud              :  SUCCESS
testuser            :  SUCCESS
testvsn             :  SUCCESS
testskiplist        :  SUCCESS
All tests passed.
Creating a test file...
Sending the file...
apr_socket_sendfile() updated offset with 0
apr_socket_sendfile() updated len with 370049
bytes really sent: 370049
After apr_socket_sendfile(), the kernel file pointer is at offset 0.
client: apr_socket_sendfile() worked as expected!
Waiting for a client to connect...
Processing a client...
server: apr_socket_sendfile() worked as expected!
Creating a test file...
Sending the file...
Calling apr_socket_sendfile()...
Headers (3):
	15 bytes (1)
	5 bytes (E)
	80000 bytes (^)
File: 200000 bytes from offset 0
Trailers (3):
	19 bytes
	10 bytes
	90000 bytes
apr_socket_sendfile()->0, sent 370049 bytes
After apr_socket_sendfile(), the kernel file pointer is at offset 0.
client: apr_socket_sendfile() worked as expected!
Waiting for a client to connect...
Processing a client...
server: apr_socket_sendfile() worked as expected!
Creating a test file...
Sending the file...
Calling apr_socket_sendfile()...
Headers (3):
	15 bytes (1)
	5 bytes (E)
	80000 bytes (^)
File: 200000 bytes from offset 0
Trailers (3):
	19 bytes
	10 bytes
	90000 bytes
apr_socket_sendfile()->0, sent 370049 bytes
After apr_socket_sendfile(), the kernel file pointer is at offset 0.
client: apr_socket_sendfile() worked as expected!
Waiting for a client to connect...
Processing a client...
server: apr_socket_sendfile() worked as expected!
make[1]: Leaving directory '/opt/apr/archive/source/apr-1.7.0/test'
